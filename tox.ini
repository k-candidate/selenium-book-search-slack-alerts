
[tox]
envlist = py311, py312, py313, py314
minversion = 4.0

[testenv]
allowlist_externals = uv
deps = 
  pytest
  pytest-cov
commands_pre =
  uv sync --frozen --no-editable
# Default: run unit tests only (fast, coverage measured)
commands =
  pytest tests/unit -v --no-cov

[testenv:integration]
description = Run integration tests (on-demand)
deps =
  pytest
allowlist_externals = uv
commands_pre =
  uv sync --frozen --no-editable
commands =
  pytest -o addopts= tests/integration -v

[gh]
python =
  311 = py311
  312 = py312
  313 = py313
  314 = py314
